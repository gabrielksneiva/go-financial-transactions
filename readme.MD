# ğŸ’¸ Go Financial Transactions

> Sistema de transaÃ§Ãµes financeiras assÃ­ncronas e escalÃ¡veis com Go, Kafka, PostgreSQL e Redis.

![Arquitetura do Projeto](docs/assets/architecture.png)

[![Go](https://img.shields.io/badge/Go-1.21-blue)](https://golang.org/)
[![Tests](https://github.com/gabrielksneiva/go-financial-transactions/actions/workflows/go-ci.yml/badge.svg)](https://github.com/gabrielksneiva/go-financial-transactions/actions)
[![Coverage](https://img.shields.io/badge/coverage-89%25-brightgreen)](#)
[![License](https://img.shields.io/github/license/gabrielksneiva/go-financial-transactions)](LICENSE)

---

## ğŸ§  Sobre o Projeto

Este projeto simula um sistema de transaÃ§Ãµes financeiras, projetado para ser altamente performÃ¡tico, assÃ­ncrono e escalÃ¡vel, ideal para aplicaÃ§Ãµes bancÃ¡rias, carteiras digitais e processadores de pagamento. Ele demonstra:

- ComunicaÃ§Ã£o assÃ­ncrona via **Apache Kafka**
- Processamento concorrente com **workers Go**
- Controle de limite de requisiÃ§Ãµes com **Redis Rate Limiter**
- Armazenamento e consistÃªncia com **PostgreSQL + GORM**
- AutenticaÃ§Ã£o via **JWT**
- Testes com cobertura > 85%
- CI/CD com **GitHub Actions**

---

## ğŸ§© Arquitetura

A arquitetura segue o padrÃ£o Clean Architecture com camadas desacopladas e testÃ¡veis.

```plaintext
            +------------+
            |  API (Fiber)
            +------+-----+
                   |
                   v
         +---------+----------+
         | Services (Business)|
         +---------+----------+
                   |
         +---------+----------+
         |    Repositories    |
         +----+----------+----+
              |          |
        +-----+      +---+---------+
        |Kafka|      | PostgreSQL  |
        +-----+      +-------------+
```

O Kafka atua como middleware entre as requisiÃ§Ãµes HTTP e os workers. Workers processam as mensagens assincronamente, atualizando os saldos no banco de dados.

---

## ğŸ› ï¸ Tecnologias

- [Go 1.21](https://golang.org/)
- [Apache Kafka](https://kafka.apache.org/)
- [Fiber](https://gofiber.io/)
- [PostgreSQL](https://www.postgresql.org/)
- [Redis](https://redis.io/)
- [GORM](https://gorm.io/)
- [JWT](https://github.com/golang-jwt/jwt)
- [sqlmock](https://github.com/DATA-DOG/go-sqlmock)
- [GitHub Actions](https://github.com/features/actions)

---

## ğŸš€ Como Rodar

### PrÃ©-requisitos

- Docker + Docker Compose
- Go 1.21+

```bash
# Clone o projeto
git clone https://github.com/gabrielksneiva/go-financial-transactions.git
cd go-financial-transactions

# Suba os serviÃ§os (Kafka, Redis, PostgreSQL)
docker-compose up -d

# Rode a aplicaÃ§Ã£o
go run main.go
```

---

## ğŸ§ª Testes

```bash
# Executar todos os testes unitÃ¡rios
go test ./... -coverprofile=coverage.out

# Ver cobertura
go tool cover -func=coverage.out
```

âœ… Testes de unidades cobrindo: services, API handlers, middleware, workers, repositories, Kafka producer e consumer.

---

## ğŸ“ Estrutura do Projeto

```bash
.
â”œâ”€â”€ api/               # Handlers, rotas e inicializaÃ§Ã£o HTTP (Fiber)
â”œâ”€â”€ config/            # ConfiguraÃ§Ã£o da aplicaÃ§Ã£o
â”œâ”€â”€ consumer/          # Kafka consumer
â”œâ”€â”€ producer/          # Kafka producer
â”œâ”€â”€ domain/            # Entidades e interfaces
â”œâ”€â”€ services/          # LÃ³gica de negÃ³cio
â”œâ”€â”€ workers/           # Workers paralelos
â”œâ”€â”€ repositories/      # IntegraÃ§Ã£o com banco de dados
â”œâ”€â”€ mocks/             # Mocks para testes
â”œâ”€â”€ main.go            # Entry point
â”œâ”€â”€ go.mod / go.sum    # DependÃªncias
â””â”€â”€ README.md          # DocumentaÃ§Ã£o do projeto
```

---

## ğŸ§  Conceitos Demonstrados

- Go routines, canais e `context.Context`
- InjeÃ§Ã£o de dependÃªncia
- Testes com `sqlmock` e `testify`
- Arquitetura orientada a mensagens
- Pipeline CI/CD com GitHub Actions
- Rate Limiting baseado em Redis TTL
- ModularizaÃ§Ã£o e clean code

---

## ğŸ¯ PrÃ³ximos Passos

- [ ] Swagger para documentaÃ§Ã£o de endpoints
- [ ] IntegraÃ§Ã£o com Fireblocks API
- [ ] Deploy automatizado via Docker + Render ou Railway
- [ ] Observabilidade com Prometheus + Grafana

---

## ğŸ‘¨â€ğŸ’» Autor

**Gabriel Kryzanovski dos Santos Neiva**  
[GitHub](https://github.com/gabrielksneiva) | [LinkedIn](https://linkedin.com/in/gabrielksneiva)

---

## ğŸ“„ LicenÃ§a

DistribuÃ­do sob a licenÃ§a MIT. Veja [`LICENSE`](LICENSE) para mais detalhes.