# ğŸ’¸ Go Financial Transactions

> Asynchronous and scalable financial transaction system built with Go, Kafka, PostgreSQL, and Redis.

![Project Architecture](docs/assets/architecture.png)

[![Go](https://img.shields.io/badge/Go-1.21-blue)](https://golang.org/)
[![Tests](https://github.com/gabrielksneiva/go-financial-transactions/actions/workflows/go-ci.yml/badge.svg)](https://github.com/gabrielksneiva/go-financial-transactions/actions)
[![Coverage](https://img.shields.io/badge/coverage-89%25-brightgreen)](#)
[![License](https://img.shields.io/github/license/gabrielksneiva/go-financial-transactions)](LICENSE)

---

## ğŸ§  About the Project

This project simulates a financial transaction system designed to be highly performant, asynchronous, and scalable â€” ideal for banking applications, digital wallets, and payment processors. It demonstrates:

- Asynchronous messaging via **Apache Kafka**
- Concurrent transaction processing with **Go workers**
- Request rate limiting with **Redis**
- Data consistency and storage with **PostgreSQL + GORM**
- Authentication using **JWT**
- Test coverage > 85%
- CI/CD using **GitHub Actions**

---

## ğŸ§© Architecture

The system is built using a clean and modular architecture.

```
        +---------------+
        |  API (Fiber)  |
        +------+--------+
               |
               v
     +---------+----------+
     | Services (Business)|
     +---------+----------+
               |
     +---------+----------+
     |    Repositories    |
     +----+----------+----+
          |          |
    +-----+      +---+---------+
    |Kafka|      | PostgreSQL  |
    +-----+      +-------------+
```

Kafka acts as a middleware between the HTTP layer and the processing workers. Workers consume messages asynchronously and update balances in the database.

---

## ğŸ› ï¸ Technologies

- [Go 1.21](https://golang.org/)
- [Apache Kafka](https://kafka.apache.org/)
- [Fiber](https://gofiber.io/)
- [PostgreSQL](https://www.postgresql.org/)
- [Redis](https://redis.io/)
- [GORM](https://gorm.io/)
- [JWT](https://github.com/golang-jwt/jwt)
- [sqlmock](https://github.com/DATA-DOG/go-sqlmock)
- [GitHub Actions](https://github.com/features/actions)

---

## ğŸš€ Getting Started

### Prerequisites

- Docker + Docker Compose
- Go 1.21+

```bash
# Clone the project
git clone https://github.com/gabrielksneiva/go-financial-transactions.git
cd go-financial-transactions

# Start required services (Kafka, Redis, PostgreSQL)
docker-compose up -d

# Run the application
go run main.go
```

---

## ğŸ§ª Tests

```bash
# Run all unit tests
go test ./... -coverprofile=coverage.out

# View coverage report
go tool cover -func=coverage.out
```

âœ… The project includes comprehensive unit tests for services, handlers, middleware, workers, repositories, and Kafka components.

---

## ğŸ“ Project Structure

```bash
.
â”œâ”€â”€ api/               # HTTP handlers and routing (Fiber)
â”œâ”€â”€ config/            # Configuration logic
â”œâ”€â”€ consumer/          # Kafka consumer
â”œâ”€â”€ producer/          # Kafka producer
â”œâ”€â”€ domain/            # Entities and interfaces
â”œâ”€â”€ services/          # Business logic
â”œâ”€â”€ workers/           # Transaction workers
â”œâ”€â”€ repositories/      # Database access layer
â”œâ”€â”€ mocks/             # Mocks for testing
â”œâ”€â”€ main.go            # Application entry point
â”œâ”€â”€ go.mod / go.sum    # Dependencies
â””â”€â”€ README.md          # Project documentation
```

---

## ğŸ§  Key Concepts

- Goroutines, channels and context cancellation
- Dependency injection
- Testing with `sqlmock` and `testify`
- Message-driven architecture with Kafka
- CI/CD with GitHub Actions
- Redis-based rate limiting
- Clean code and modularity

---

## ğŸ¯ Roadmap

- [ ] Swagger documentation for API endpoints
- [ ] Fireblocks API integration
- [ ] Automated deployment with Docker + Render or Railway
- [ ] Observability with Prometheus and Grafana

---

## ğŸ‘¨â€ğŸ’» Author

**Gabriel Kryzanovski dos Santos Neiva**  
[GitHub](https://github.com/gabrielksneiva) â€¢ [LinkedIn](https://linkedin.com/in/gabrielksneiva)
