

<html>
	<head>
		<title>Coverage Report</title>
		<meta charset="utf-8" />
        
        <style type="text/css">
        body {
    background-color: #fff;
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}

table {
    margin-left: 10px;
    border-collapse: collapse;
}

td {
    background-color: #fff;
    padding: 2px;
}

table.overview td {
    padding-right: 20px;
}

td.percent,
td.linecount {
    text-align: right;
}

div.package,
#totalcov {
    color: #fff;
    background-color: #375eab;
    font-size: 16px;
    font-weight: bold;
    padding: 10px;
    border-radius: 5px 5px 5px 5px;
}

div.package,
#totalcov {
    float: right;
    right: 10px;
}

#totalcov {
    top: 10px;
    position: relative;
    background-color: #fff;
    color: #000;
    border: 1px solid #375eab;
    clear: both;
}

#summaryWrapper {
    position: fixed;
    top: 10px;
    float: right;
    right: 10px;

}

span.packageTotal {
    float: right;
    color: #000;
}

#doctitle {
    background-color: #fff;
    font-size: 24px;
    margin-top: 20px;
    margin-left: 10px;
    color: #375eab;
    font-weight: bold;
}

#about {
    margin-left: 18px;
    font-size: 10px;
}

.functitle,
.funcname {
    text-align: center;
    font-size: 20px;
    font-weight: bold;
    color: #375eab;
}

.funcname {
    text-align: left;
    margin-top: 20px;
    margin-left: 10px;
    margin-bottom: 20px;
    padding: 2px 5px 5px;
    background-color: #e0ebf5;
}

table.listing {
    margin-left: 10px;
}

table.listing td {
    padding: 0px;
    font-size: 12px;
    background-color: #eee;
    vertical-align: top;
    padding-left: 10px;
    border-bottom: 1px solid #fff;
}

table.listing td:first-child {
    text-align: right;
    font-weight: bold;
    vertical-align: center;
}

table.listing tr.miss td {
    background-color: #FFBBB8;
}

table.listing tr:last-child td {
    font-weight: normal;
    color: #000;
}

table.listing tr:last-child td:first-child {
    font-weight: bold;
}

.info {
    margin-left: 10px;
}

.info code {}

pre {
    margin: 1px;
}

pre.cmd {
    background-color: #e9e9e9;
    border-radius: 5px 5px 5px 5px;
    padding: 10px;
    margin: 20px;
    line-height: 18px;
    font-size: 14px;
}

a {
    text-decoration: none;
    color: #375eab;
}

a:hover {
    text-decoration: underline;
}

p {
    margin-left: 10px;
}
        </style>
        
	</head>
	<body>
		<div id="doctitle">Coverage Report</div>
        
        <div id="about">Generated on Fri, 18 Apr 2025 13:48:35 -03 with <a href="https://github.com/matm/gocov-html">gocov-html</a></div>
        
        
        <div class="funcname">Report Overview</div>
            <table class="overview">
            
            <tr id="s_pkg_go-financial-transactions">
                <td><code><a href="#pkg_go-financial-transactions">go-financial-transactions</a></code></td>
                <td class="percent"><code>29.2%</code></td>
                <td class="linecount"><code>7/24</code></td>
            </tr>
            
            <tr id="s_pkg_go-financial-transactions/api">
                <td><code><a href="#pkg_go-financial-transactions/api">go-financial-transactions/api</a></code></td>
                <td class="percent"><code>96.8%</code></td>
                <td class="linecount"><code>30/31</code></td>
            </tr>
            
            <tr id="s_pkg_go-financial-transactions/config">
                <td><code><a href="#pkg_go-financial-transactions/config">go-financial-transactions/config</a></code></td>
                <td class="percent"><code>0.0%</code></td>
                <td class="linecount"><code>0/19</code></td>
            </tr>
            
            <tr id="s_pkg_go-financial-transactions/consumer">
                <td><code><a href="#pkg_go-financial-transactions/consumer">go-financial-transactions/consumer</a></code></td>
                <td class="percent"><code>87.5%</code></td>
                <td class="linecount"><code>14/16</code></td>
            </tr>
            
            <tr id="s_pkg_go-financial-transactions/mocks">
                <td><code><a href="#pkg_go-financial-transactions/mocks">go-financial-transactions/mocks</a></code></td>
                <td class="percent"><code>0.0%</code></td>
                <td class="linecount"><code>0/131</code></td>
            </tr>
            
            <tr id="s_pkg_go-financial-transactions/producer">
                <td><code><a href="#pkg_go-financial-transactions/producer">go-financial-transactions/producer</a></code></td>
                <td class="percent"><code>88.9%</code></td>
                <td class="linecount"><code>8/9</code></td>
            </tr>
            
            <tr id="s_pkg_go-financial-transactions/repositories">
                <td><code><a href="#pkg_go-financial-transactions/repositories">go-financial-transactions/repositories</a></code></td>
                <td class="percent"><code>41.7%</code></td>
                <td class="linecount"><code>10/24</code></td>
            </tr>
            
            <tr id="s_pkg_go-financial-transactions/services">
                <td><code><a href="#pkg_go-financial-transactions/services">go-financial-transactions/services</a></code></td>
                <td class="percent"><code>75.0%</code></td>
                <td class="linecount"><code>21/28</code></td>
            </tr>
            
            <tr id="s_pkg_go-financial-transactions/workers">
                <td><code><a href="#pkg_go-financial-transactions/workers">go-financial-transactions/workers</a></code></td>
                <td class="percent"><code>90.5%</code></td>
                <td class="linecount"><code>19/21</code></td>
            </tr>
            
            </table>
            <p>
            This coverage report has been generated with the following command:
            </p>
            <pre class="cmd">gocov test go-financial-transactions go-financial-transactions/api go-financial-transactions/config go-financial-transactions/consumer go-financial-transactions/mocks go-financial-transactions/producer go-financial-transactions/repositories go-financial-transactions/services go-financial-transactions/workers | gocov-html </pre>
        </div>
        
        
        <div id="pkg_go-financial-transactions" class="funcname">
            Package Overview: go-financial-transactions
            <span class="packageTotal">29.2%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_RunApp">
                <td>
                    <code><a href="#fn_RunApp">RunApp(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/main.go</code>
                </td>
                <td class="percent">
                    <code>43.8%</code>
                </td>
                <td class="linecount">
                    <code>7/16</code>
                </td>
            </tr>
        
            <tr id="s_fn_@45:5">
                <td>
                    <code><a href="#fn_@45:5">@45:5(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/main.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_@28:5">
                <td>
                    <code><a href="#fn_@28:5">@28:5(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/main.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_main">
                <td>
                    <code><a href="#fn_main">main(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/main.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_RunApp">func RunApp</div>
        <div class="info">
            <a href="#s_fn_RunApp">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/main.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>func RunApp() {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>        fmt.Println(&#34;🚀 Starting application...&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>        ctx, cancel := context.WithCancel(context.Background())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>        defer cancel()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>        cfg := config.LoadConfig()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>        app := config.SetupApplication()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>        defer app.KafkaWriter.Close()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>        // Start HTTP server</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>        go func() {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>                if err := app.API.Fiber.Listen(&#34;:&#34; + app.Config.APIPort); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>                        fmt.Printf(&#34;⚠️ Failed to start API server: %v\n&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>        }()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>        // Setup signal handler</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>35</td>
                <td>
                    <code><pre>        sigs := make(chan os.Signal, 1)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>36</td>
                <td>
                    <code><pre>        signal.Notify(sigs, os.Interrupt, syscall.SIGTERM)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>38</td>
                <td>
                    <code><pre>        done := make(chan struct{})</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>39</td>
                <td>
                    <code><pre>        transactions := make(chan domain.Transaction, 100)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>        // Start consumer &amp; workers</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>42</td>
                <td>
                    <code><pre>        go consumer.InitConsumer(ctx, transactions, cfg.KafkaBroker, cfg.KafkaTopic, cfg.KafkaGroupID)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>43</td>
                <td>
                    <code><pre>        go workers.StartWorkers(ctx, transactions, 4, app.DB)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>45</td>
                <td>
                    <code><pre>        go func() {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>                &lt;-sigs</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>                fmt.Println(&#34;\n🛑 Interrupt signal received, shutting down...&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>                cancel()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>                close(done)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>        }()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>52</td>
                <td>
                    <code><pre>        &lt;-done</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>53</td>
                <td>
                    <code><pre>        fmt.Println(&#34;✔️ Gracefully shut down.&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_@45:5">func @45:5</div>
        <div class="info">
            <a href="#s_fn_@45:5">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/main.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>func() {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>46</td>
                <td>
                    <code><pre>                &lt;-sigs</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>47</td>
                <td>
                    <code><pre>                fmt.Println(&#34;\n🛑 Interrupt signal received, shutting down...&#34;)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>48</td>
                <td>
                    <code><pre>                cancel()</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>49</td>
                <td>
                    <code><pre>                close(done)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_@28:5">func @28:5</div>
        <div class="info">
            <a href="#s_fn_@28:5">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/main.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>func() {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>29</td>
                <td>
                    <code><pre>                if err := app.API.Fiber.Listen(&#34;:&#34; + app.Config.APIPort); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>30</td>
                <td>
                    <code><pre>                        fmt.Printf(&#34;⚠️ Failed to start API server: %v\n&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_main">func main</div>
        <div class="info">
            <a href="#s_fn_main">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/main.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre>func main() {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>57</td>
                <td>
                    <code><pre>        RunApp()</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>58</td>
                <td>
                    <code><pre>        fmt.Println(&#34;✔️ Application exited.&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:go-financial-transactions DONE:29.2
        -->
        
        <div id="pkg_go-financial-transactions/api" class="funcname">
            Package Overview: go-financial-transactions/api
            <span class="packageTotal">96.8%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_Handlers.DepositHandler">
                <td>
                    <code><a href="#fn_Handlers.DepositHandler">Handlers.DepositHandler(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/api/handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>6/6</code>
                </td>
            </tr>
        
            <tr id="s_fn_Handlers.BalanceHandler">
                <td>
                    <code><a href="#fn_Handlers.BalanceHandler">Handlers.BalanceHandler(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/api/handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>5/5</code>
                </td>
            </tr>
        
            <tr id="s_fn_Handlers.StatementHandler">
                <td>
                    <code><a href="#fn_Handlers.StatementHandler">Handlers.StatementHandler(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/api/handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>5/5</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewApp">
                <td>
                    <code><a href="#fn_NewApp">NewApp(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/api/api.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_RegisterRoutes">
                <td>
                    <code><a href="#fn_RegisterRoutes">RegisterRoutes(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/api/routes.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewHandlers">
                <td>
                    <code><a href="#fn_NewHandlers">NewHandlers(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/api/handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_Handlers.WithdrawHandler">
                <td>
                    <code><a href="#fn_Handlers.WithdrawHandler">Handlers.WithdrawHandler(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/api/handler.go</code>
                </td>
                <td class="percent">
                    <code>83.3%</code>
                </td>
                <td class="linecount">
                    <code>5/6</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_Handlers.DepositHandler">func Handlers.DepositHandler</div>
        <div class="info">
            <a href="#s_fn_Handlers.DepositHandler">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/api/handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>func (h *Handlers) DepositHandler(c *fiber.Ctx) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>        var req TransactionRequest</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>        if err := c.BodyParser(&amp;req); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>                return c.Status(fiber.StatusBadRequest).JSON(fiber.Map{&#34;error&#34;: &#34;Invalid JSON&#34;})</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>        if err := h.DepositService.Deposit(req.UserID, req.Amount); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>                return c.Status(fiber.StatusInternalServerError).JSON(fiber.Map{&#34;error&#34;: err.Error()})</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>        return c.Status(fiber.StatusAccepted).JSON(fiber.Map{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre>                &#34;message&#34;: &#34;Deposit submitted&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>        })</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_Handlers.BalanceHandler">func Handlers.BalanceHandler</div>
        <div class="info">
            <a href="#s_fn_Handlers.BalanceHandler">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/api/handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>73</td>
                <td>
                    <code><pre>func (h *Handlers) BalanceHandler(c *fiber.Ctx) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>74</td>
                <td>
                    <code><pre>        userID := c.Params(&#34;user_id&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>75</td>
                <td>
                    <code><pre>        amount, err := h.StatementService.GetBalance(userID)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>76</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>77</td>
                <td>
                    <code><pre>                return c.Status(fiber.StatusNotFound).JSON(fiber.Map{&#34;error&#34;: err.Error()})</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>78</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>79</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>80</td>
                <td>
                    <code><pre>        return c.JSON(BalanceResponse{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>81</td>
                <td>
                    <code><pre>                UserID: userID,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>82</td>
                <td>
                    <code><pre>                Amount: amount,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>83</td>
                <td>
                    <code><pre>        })</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>84</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_Handlers.StatementHandler">func Handlers.StatementHandler</div>
        <div class="info">
            <a href="#s_fn_Handlers.StatementHandler">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/api/handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>86</td>
                <td>
                    <code><pre>func (h *Handlers) StatementHandler(c *fiber.Ctx) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>87</td>
                <td>
                    <code><pre>        userID := c.Params(&#34;user_id&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>88</td>
                <td>
                    <code><pre>        statement, err := h.StatementService.GetStatement(userID)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>89</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>90</td>
                <td>
                    <code><pre>                return c.Status(fiber.StatusNotFound).JSON(fiber.Map{&#34;error&#34;: err.Error()})</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>91</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>92</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>93</td>
                <td>
                    <code><pre>        return c.JSON(StatementResponse{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>94</td>
                <td>
                    <code><pre>                UserID:       userID,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>95</td>
                <td>
                    <code><pre>                Balance:      statement.Balance,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>96</td>
                <td>
                    <code><pre>                Transactions: services.ToTransactionDisplay(statement.Transactions),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>97</td>
                <td>
                    <code><pre>        })</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>98</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewApp">func NewApp</div>
        <div class="info">
            <a href="#s_fn_NewApp">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/api/api.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>14</td>
                <td>
                    <code><pre>func NewApp(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>        depositService *services.DepositService,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>        withdrawService *services.WithdrawService,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>        statementService *services.StatementService,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>) *App {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>        app := fiber.New()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>        handlers := NewHandlers(depositService, withdrawService, statementService)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>        RegisterRoutes(app, handlers)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>        return &amp;App{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>                Fiber:    app,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>                Handlers: handlers,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RegisterRoutes">func RegisterRoutes</div>
        <div class="info">
            <a href="#s_fn_RegisterRoutes">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/api/routes.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>7</td>
                <td>
                    <code><pre>func RegisterRoutes(app *fiber.App, h *Handlers) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>8</td>
                <td>
                    <code><pre>        app.Post(&#34;/deposit&#34;, h.DepositHandler)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>9</td>
                <td>
                    <code><pre>        app.Post(&#34;/withdraw&#34;, h.WithdrawHandler)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>10</td>
                <td>
                    <code><pre>        app.Get(&#34;/balance/:user_id&#34;, h.BalanceHandler)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>11</td>
                <td>
                    <code><pre>        app.Get(&#34;/statement/:user_id&#34;, h.StatementHandler)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>12</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewHandlers">func NewHandlers</div>
        <div class="info">
            <a href="#s_fn_NewHandlers">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/api/handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>func NewHandlers(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>        deposit *services.DepositService,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>        withdraw *services.WithdrawService,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>        statement *services.StatementService,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>) *Handlers {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>        return &amp;Handlers{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>                DepositService:   deposit,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>                WithdrawService:  withdraw,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>                StatementService: statement,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_Handlers.WithdrawHandler">func Handlers.WithdrawHandler</div>
        <div class="info">
            <a href="#s_fn_Handlers.WithdrawHandler">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/api/handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre>func (h *Handlers) WithdrawHandler(c *fiber.Ctx) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>        var req TransactionRequest</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre>        if err := c.BodyParser(&amp;req); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>61</td>
                <td>
                    <code><pre>                return c.Status(fiber.StatusBadRequest).JSON(fiber.Map{&#34;error&#34;: &#34;Invalid JSON&#34;})</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>63</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>64</td>
                <td>
                    <code><pre>        if err := h.WithdrawService.Withdraw(req.UserID, req.Amount); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>                return c.Status(fiber.StatusBadRequest).JSON(fiber.Map{&#34;error&#34;: err.Error()})</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>68</td>
                <td>
                    <code><pre>        return c.Status(fiber.StatusAccepted).JSON(fiber.Map{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre>                &#34;message&#34;: &#34;Withdrawal submitted&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>70</td>
                <td>
                    <code><pre>        })</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>71</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:go-financial-transactions/api DONE:96.8
        -->
        
        <div id="pkg_go-financial-transactions/config" class="funcname">
            Package Overview: go-financial-transactions/config
            <span class="packageTotal">0.0%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_SetupApplication">
                <td>
                    <code><a href="#fn_SetupApplication">SetupApplication(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/config/setup.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/14</code>
                </td>
            </tr>
        
            <tr id="s_fn_getEnv">
                <td>
                    <code><a href="#fn_getEnv">getEnv(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/config/setup.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/3</code>
                </td>
            </tr>
        
            <tr id="s_fn_LoadConfig">
                <td>
                    <code><a href="#fn_LoadConfig">LoadConfig(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/config/setup.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_SetupApplication">func SetupApplication</div>
        <div class="info">
            <a href="#s_fn_SetupApplication">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/config/setup.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>func SetupApplication() *AppResources {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>51</td>
                <td>
                    <code><pre>        fmt.Println(&#34;🚀 Initializing dependencies...&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>53</td>
                <td>
                    <code><pre>        ctx, cancel := context.WithCancel(context.Background())</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>54</td>
                <td>
                    <code><pre>        cfg := LoadConfig()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>56</td>
                <td>
                    <code><pre>        db := repositories.InitDatabase(cfg.DBHost, cfg.DBUser, cfg.DBPassword, cfg.DBName, cfg.DBPort)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>57</td>
                <td>
                    <code><pre>        if db == nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>58</td>
                <td>
                    <code><pre>                panic(&#34;❌ Failed to connect to database&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>61</td>
                <td>
                    <code><pre>        kafkaWriter := producer.NewKafkaWriter(cfg.KafkaBroker, cfg.KafkaTopic)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>63</td>
                <td>
                    <code><pre>        repo := repositories.NewGormRepository(db)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>64</td>
                <td>
                    <code><pre>        deposit := s.NewDepositService(repo, repo, kafkaWriter)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>65</td>
                <td>
                    <code><pre>        withdraw := s.NewWithdrawService(repo, repo, kafkaWriter)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>66</td>
                <td>
                    <code><pre>        statement := s.NewStatementService(repo, repo)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>68</td>
                <td>
                    <code><pre>        apiApp := api.NewApp(deposit, withdraw, statement)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>70</td>
                <td>
                    <code><pre>        transactions := make(chan d.Transaction, 100)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>71</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>72</td>
                <td>
                    <code><pre>        return &amp;AppResources{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>73</td>
                <td>
                    <code><pre>                DB:            db,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>74</td>
                <td>
                    <code><pre>                KafkaWriter:   kafkaWriter,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>75</td>
                <td>
                    <code><pre>                API:           apiApp,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>76</td>
                <td>
                    <code><pre>                TransactionCh: transactions,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>77</td>
                <td>
                    <code><pre>                Context:       ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>78</td>
                <td>
                    <code><pre>                CancelFunc:    cancel,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>79</td>
                <td>
                    <code><pre>                Config:        cfg,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>80</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>81</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_getEnv">func getEnv</div>
        <div class="info">
            <a href="#s_fn_getEnv">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/config/setup.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>func getEnv(key, defaultVal string) string {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>44</td>
                <td>
                    <code><pre>        if val := os.Getenv(key); val != &#34;&#34; {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>45</td>
                <td>
                    <code><pre>                return val</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>47</td>
                <td>
                    <code><pre>        return defaultVal</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_LoadConfig">func LoadConfig</div>
        <div class="info">
            <a href="#s_fn_LoadConfig">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/config/setup.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>func LoadConfig() Config {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>29</td>
                <td>
                    <code><pre>        _ = godotenv.Load()</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>30</td>
                <td>
                    <code><pre>        return Config{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>                APIPort:      getEnv(&#34;API_PORT&#34;, &#34;8080&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>                KafkaBroker:  os.Getenv(&#34;KAFKA_BROKER&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>                KafkaTopic:   os.Getenv(&#34;KAFKA_TOPIC&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>                KafkaGroupID: os.Getenv(&#34;KAFKA_GROUP_ID&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>                DBHost:       os.Getenv(&#34;DB_HOST&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>                DBPort:       os.Getenv(&#34;DB_PORT&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>                DBUser:       os.Getenv(&#34;DB_USER&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>                DBPassword:   os.Getenv(&#34;DB_PASSWORD&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>                DBName:       os.Getenv(&#34;DB_NAME&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:go-financial-transactions/config DONE:0.0
        -->
        
        <div id="pkg_go-financial-transactions/consumer" class="funcname">
            Package Overview: go-financial-transactions/consumer
            <span class="packageTotal">87.5%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_InitConsumerWithReader">
                <td>
                    <code><a href="#fn_InitConsumerWithReader">InitConsumerWithReader(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/consumer/consumer.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>14/14</code>
                </td>
            </tr>
        
            <tr id="s_fn_InitConsumer">
                <td>
                    <code><a href="#fn_InitConsumer">InitConsumer(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/consumer/consumer.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_InitConsumerWithReader">func InitConsumerWithReader</div>
        <div class="info">
            <a href="#s_fn_InitConsumerWithReader">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/consumer/consumer.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>func InitConsumerWithReader(ctx context.Context, ch chan&lt;- d.Transaction, reader KafkaReader) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>        defer reader.Close()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>        for {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>                select {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>                case &lt;-ctx.Done():</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>                        fmt.Println(&#34;📥 Consumer encerrado.&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>                        return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>                default:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>                        msg, err := reader.ReadMessage(ctx)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>                        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>                                log.Printf(&#34;Erro ao ler mensagem: %v&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>                                continue</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>                        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>                        var tx d.Transaction</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>                        if err := json.Unmarshal(msg.Value, &amp;tx); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>                                log.Printf(&#34;Erro ao deserializar JSON: %v&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>                                continue</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>                        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>                        ch &lt;- tx</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_InitConsumer">func InitConsumer</div>
        <div class="info">
            <a href="#s_fn_InitConsumer">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/consumer/consumer.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>func InitConsumer(ctx context.Context, ch chan&lt;- d.Transaction, kafkaBroker, kafkaTopic, kafkaGroupID string) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>43</td>
                <td>
                    <code><pre>        reader := kafka.NewReader(kafka.ReaderConfig{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>                Brokers: []string{kafkaBroker},</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>                Topic:   kafkaTopic,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>                GroupID: kafkaGroupID,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>        })</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>48</td>
                <td>
                    <code><pre>        InitConsumerWithReader(ctx, ch, reader)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:go-financial-transactions/consumer DONE:87.5
        -->
        
        <div id="pkg_go-financial-transactions/mocks" class="funcname">
            Package Overview: go-financial-transactions/mocks
            <span class="packageTotal">0.0%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_BalanceRepository.GetBalance">
                <td>
                    <code><a href="#fn_BalanceRepository.GetBalance">BalanceRepository.GetBalance(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/mocks/BalanceRepository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/15</code>
                </td>
            </tr>
        
            <tr id="s_fn_TransactionRepository.GetByUser">
                <td>
                    <code><a href="#fn_TransactionRepository.GetByUser">TransactionRepository.GetByUser(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/mocks/TransactionRepository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/15</code>
                </td>
            </tr>
        
            <tr id="s_fn_WriterInterface.WriteMessages">
                <td>
                    <code><a href="#fn_WriterInterface.WriteMessages">WriterInterface.WriteMessages(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/mocks/WriterInterface.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/14</code>
                </td>
            </tr>
        
            <tr id="s_fn_KafkaReader.ReadMessage">
                <td>
                    <code><a href="#fn_KafkaReader.ReadMessage">KafkaReader.ReadMessage(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/mocks/KafkaReader.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/14</code>
                </td>
            </tr>
        
            <tr id="s_fn_BalanceRepository.UpdateBalance">
                <td>
                    <code><a href="#fn_BalanceRepository.UpdateBalance">BalanceRepository.UpdateBalance(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/mocks/BalanceRepository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/8</code>
                </td>
            </tr>
        
            <tr id="s_fn_WriterInterface.Close">
                <td>
                    <code><a href="#fn_WriterInterface.Close">WriterInterface.Close(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/mocks/WriterInterface.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/8</code>
                </td>
            </tr>
        
            <tr id="s_fn_KafkaReader.Close">
                <td>
                    <code><a href="#fn_KafkaReader.Close">KafkaReader.Close(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/mocks/KafkaReader.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/8</code>
                </td>
            </tr>
        
            <tr id="s_fn_TransactionRepository.Save">
                <td>
                    <code><a href="#fn_TransactionRepository.Save">TransactionRepository.Save(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/mocks/TransactionRepository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/8</code>
                </td>
            </tr>
        
            <tr id="s_fn_Producer.Close">
                <td>
                    <code><a href="#fn_Producer.Close">Producer.Close(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/mocks/Producer.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/8</code>
                </td>
            </tr>
        
            <tr id="s_fn_Producer.SendTransaction">
                <td>
                    <code><a href="#fn_Producer.SendTransaction">Producer.SendTransaction(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/mocks/Producer.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/8</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewProducer">
                <td>
                    <code><a href="#fn_NewProducer">NewProducer(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/mocks/Producer.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewKafkaReader">
                <td>
                    <code><a href="#fn_NewKafkaReader">NewKafkaReader(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/mocks/KafkaReader.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewTransactionRepository">
                <td>
                    <code><a href="#fn_NewTransactionRepository">NewTransactionRepository(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/mocks/TransactionRepository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewBalanceRepository">
                <td>
                    <code><a href="#fn_NewBalanceRepository">NewBalanceRepository(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/mocks/BalanceRepository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewWriterInterface">
                <td>
                    <code><a href="#fn_NewWriterInterface">NewWriterInterface(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/mocks/WriterInterface.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_@61:12">
                <td>
                    <code><a href="#fn_@61:12">@61:12(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/mocks/Producer.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_@72:12">
                <td>
                    <code><a href="#fn_@72:12">@72:12(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/mocks/KafkaReader.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_@73:12">
                <td>
                    <code><a href="#fn_@73:12">@73:12(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/mocks/TransactionRepository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_@73:12">
                <td>
                    <code><a href="#fn_@73:12">@73:12(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/mocks/BalanceRepository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_@69:12">
                <td>
                    <code><a href="#fn_@69:12">@69:12(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/mocks/WriterInterface.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/1</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_BalanceRepository.GetBalance">func BalanceRepository.GetBalance</div>
        <div class="info">
            <a href="#s_fn_BalanceRepository.GetBalance">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/mocks/BalanceRepository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>func (_m *BalanceRepository) GetBalance(userID string) (*domain.Balance, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>18</td>
                <td>
                    <code><pre>        ret := _m.Called(userID)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>20</td>
                <td>
                    <code><pre>        if len(ret) == 0 {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>21</td>
                <td>
                    <code><pre>                panic(&#34;no return value specified for GetBalance&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>24</td>
                <td>
                    <code><pre>        var r0 *domain.Balance</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>25</td>
                <td>
                    <code><pre>        var r1 error</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>26</td>
                <td>
                    <code><pre>        if rf, ok := ret.Get(0).(func(string) (*domain.Balance, error)); ok {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>27</td>
                <td>
                    <code><pre>                return rf(userID)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>29</td>
                <td>
                    <code><pre>        if rf, ok := ret.Get(0).(func(string) *domain.Balance); ok {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>30</td>
                <td>
                    <code><pre>                r0 = rf(userID)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>        } else {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>32</td>
                <td>
                    <code><pre>                if ret.Get(0) != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>33</td>
                <td>
                    <code><pre>                        r0 = ret.Get(0).(*domain.Balance)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>37</td>
                <td>
                    <code><pre>        if rf, ok := ret.Get(1).(func(string) error); ok {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>38</td>
                <td>
                    <code><pre>                r1 = rf(userID)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>        } else {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>40</td>
                <td>
                    <code><pre>                r1 = ret.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>43</td>
                <td>
                    <code><pre>        return r0, r1</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_TransactionRepository.GetByUser">func TransactionRepository.GetByUser</div>
        <div class="info">
            <a href="#s_fn_TransactionRepository.GetByUser">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/mocks/TransactionRepository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>func (_m *TransactionRepository) GetByUser(userID string) ([]domain.Transaction, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>18</td>
                <td>
                    <code><pre>        ret := _m.Called(userID)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>20</td>
                <td>
                    <code><pre>        if len(ret) == 0 {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>21</td>
                <td>
                    <code><pre>                panic(&#34;no return value specified for GetByUser&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>24</td>
                <td>
                    <code><pre>        var r0 []domain.Transaction</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>25</td>
                <td>
                    <code><pre>        var r1 error</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>26</td>
                <td>
                    <code><pre>        if rf, ok := ret.Get(0).(func(string) ([]domain.Transaction, error)); ok {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>27</td>
                <td>
                    <code><pre>                return rf(userID)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>29</td>
                <td>
                    <code><pre>        if rf, ok := ret.Get(0).(func(string) []domain.Transaction); ok {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>30</td>
                <td>
                    <code><pre>                r0 = rf(userID)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>        } else {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>32</td>
                <td>
                    <code><pre>                if ret.Get(0) != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>33</td>
                <td>
                    <code><pre>                        r0 = ret.Get(0).([]domain.Transaction)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>37</td>
                <td>
                    <code><pre>        if rf, ok := ret.Get(1).(func(string) error); ok {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>38</td>
                <td>
                    <code><pre>                r1 = rf(userID)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>        } else {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>40</td>
                <td>
                    <code><pre>                r1 = ret.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>43</td>
                <td>
                    <code><pre>        return r0, r1</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_WriterInterface.WriteMessages">func WriterInterface.WriteMessages</div>
        <div class="info">
            <a href="#s_fn_WriterInterface.WriteMessages">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/mocks/WriterInterface.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>func (_m *WriterInterface) WriteMessages(ctx context.Context, msgs ...kafka.Message) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>37</td>
                <td>
                    <code><pre>        _va := make([]interface{}, len(msgs))</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>38</td>
                <td>
                    <code><pre>        for _i := range msgs {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>39</td>
                <td>
                    <code><pre>                _va[_i] = msgs[_i]</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>41</td>
                <td>
                    <code><pre>        var _ca []interface{}</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>42</td>
                <td>
                    <code><pre>        _ca = append(_ca, ctx)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>43</td>
                <td>
                    <code><pre>        _ca = append(_ca, _va...)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>44</td>
                <td>
                    <code><pre>        ret := _m.Called(_ca...)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>46</td>
                <td>
                    <code><pre>        if len(ret) == 0 {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>47</td>
                <td>
                    <code><pre>                panic(&#34;no return value specified for WriteMessages&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>50</td>
                <td>
                    <code><pre>        var r0 error</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>51</td>
                <td>
                    <code><pre>        if rf, ok := ret.Get(0).(func(context.Context, ...kafka.Message) error); ok {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>52</td>
                <td>
                    <code><pre>                r0 = rf(ctx, msgs...)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>        } else {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>54</td>
                <td>
                    <code><pre>                r0 = ret.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>57</td>
                <td>
                    <code><pre>        return r0</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_KafkaReader.ReadMessage">func KafkaReader.ReadMessage</div>
        <div class="info">
            <a href="#s_fn_KafkaReader.ReadMessage">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/mocks/KafkaReader.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>func (_m *KafkaReader) ReadMessage(_a0 context.Context) (kafka.Message, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>37</td>
                <td>
                    <code><pre>        ret := _m.Called(_a0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>39</td>
                <td>
                    <code><pre>        if len(ret) == 0 {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>40</td>
                <td>
                    <code><pre>                panic(&#34;no return value specified for ReadMessage&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>43</td>
                <td>
                    <code><pre>        var r0 kafka.Message</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>44</td>
                <td>
                    <code><pre>        var r1 error</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>45</td>
                <td>
                    <code><pre>        if rf, ok := ret.Get(0).(func(context.Context) (kafka.Message, error)); ok {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>46</td>
                <td>
                    <code><pre>                return rf(_a0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>48</td>
                <td>
                    <code><pre>        if rf, ok := ret.Get(0).(func(context.Context) kafka.Message); ok {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>49</td>
                <td>
                    <code><pre>                r0 = rf(_a0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>        } else {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>51</td>
                <td>
                    <code><pre>                r0 = ret.Get(0).(kafka.Message)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>54</td>
                <td>
                    <code><pre>        if rf, ok := ret.Get(1).(func(context.Context) error); ok {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>55</td>
                <td>
                    <code><pre>                r1 = rf(_a0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre>        } else {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>57</td>
                <td>
                    <code><pre>                r1 = ret.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>60</td>
                <td>
                    <code><pre>        return r0, r1</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>61</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_BalanceRepository.UpdateBalance">func BalanceRepository.UpdateBalance</div>
        <div class="info">
            <a href="#s_fn_BalanceRepository.UpdateBalance">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/mocks/BalanceRepository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>func (_m *BalanceRepository) UpdateBalance(tx domain.Transaction) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>48</td>
                <td>
                    <code><pre>        ret := _m.Called(tx)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>50</td>
                <td>
                    <code><pre>        if len(ret) == 0 {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>51</td>
                <td>
                    <code><pre>                panic(&#34;no return value specified for UpdateBalance&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>54</td>
                <td>
                    <code><pre>        var r0 error</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>55</td>
                <td>
                    <code><pre>        if rf, ok := ret.Get(0).(func(domain.Transaction) error); ok {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>56</td>
                <td>
                    <code><pre>                r0 = rf(tx)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre>        } else {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>58</td>
                <td>
                    <code><pre>                r0 = ret.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>61</td>
                <td>
                    <code><pre>        return r0</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_WriterInterface.Close">func WriterInterface.Close</div>
        <div class="info">
            <a href="#s_fn_WriterInterface.Close">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/mocks/WriterInterface.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>func (_m *WriterInterface) Close() error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>19</td>
                <td>
                    <code><pre>        ret := _m.Called()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>21</td>
                <td>
                    <code><pre>        if len(ret) == 0 {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>22</td>
                <td>
                    <code><pre>                panic(&#34;no return value specified for Close&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>25</td>
                <td>
                    <code><pre>        var r0 error</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>26</td>
                <td>
                    <code><pre>        if rf, ok := ret.Get(0).(func() error); ok {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>27</td>
                <td>
                    <code><pre>                r0 = rf()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>        } else {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>29</td>
                <td>
                    <code><pre>                r0 = ret.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>32</td>
                <td>
                    <code><pre>        return r0</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_KafkaReader.Close">func KafkaReader.Close</div>
        <div class="info">
            <a href="#s_fn_KafkaReader.Close">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/mocks/KafkaReader.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>func (_m *KafkaReader) Close() error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>19</td>
                <td>
                    <code><pre>        ret := _m.Called()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>21</td>
                <td>
                    <code><pre>        if len(ret) == 0 {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>22</td>
                <td>
                    <code><pre>                panic(&#34;no return value specified for Close&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>25</td>
                <td>
                    <code><pre>        var r0 error</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>26</td>
                <td>
                    <code><pre>        if rf, ok := ret.Get(0).(func() error); ok {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>27</td>
                <td>
                    <code><pre>                r0 = rf()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>        } else {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>29</td>
                <td>
                    <code><pre>                r0 = ret.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>32</td>
                <td>
                    <code><pre>        return r0</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_TransactionRepository.Save">func TransactionRepository.Save</div>
        <div class="info">
            <a href="#s_fn_TransactionRepository.Save">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/mocks/TransactionRepository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>func (_m *TransactionRepository) Save(tx domain.Transaction) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>48</td>
                <td>
                    <code><pre>        ret := _m.Called(tx)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>50</td>
                <td>
                    <code><pre>        if len(ret) == 0 {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>51</td>
                <td>
                    <code><pre>                panic(&#34;no return value specified for Save&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>54</td>
                <td>
                    <code><pre>        var r0 error</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>55</td>
                <td>
                    <code><pre>        if rf, ok := ret.Get(0).(func(domain.Transaction) error); ok {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>56</td>
                <td>
                    <code><pre>                r0 = rf(tx)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre>        } else {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>58</td>
                <td>
                    <code><pre>                r0 = ret.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>61</td>
                <td>
                    <code><pre>        return r0</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_Producer.Close">func Producer.Close</div>
        <div class="info">
            <a href="#s_fn_Producer.Close">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/mocks/Producer.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>func (_m *Producer) Close() error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>18</td>
                <td>
                    <code><pre>        ret := _m.Called()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>20</td>
                <td>
                    <code><pre>        if len(ret) == 0 {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>21</td>
                <td>
                    <code><pre>                panic(&#34;no return value specified for Close&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>24</td>
                <td>
                    <code><pre>        var r0 error</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>25</td>
                <td>
                    <code><pre>        if rf, ok := ret.Get(0).(func() error); ok {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>26</td>
                <td>
                    <code><pre>                r0 = rf()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>        } else {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>28</td>
                <td>
                    <code><pre>                r0 = ret.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>31</td>
                <td>
                    <code><pre>        return r0</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_Producer.SendTransaction">func Producer.SendTransaction</div>
        <div class="info">
            <a href="#s_fn_Producer.SendTransaction">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/mocks/Producer.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>func (_m *Producer) SendTransaction(tx domain.Transaction) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>36</td>
                <td>
                    <code><pre>        ret := _m.Called(tx)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>38</td>
                <td>
                    <code><pre>        if len(ret) == 0 {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>39</td>
                <td>
                    <code><pre>                panic(&#34;no return value specified for SendTransaction&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>42</td>
                <td>
                    <code><pre>        var r0 error</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>43</td>
                <td>
                    <code><pre>        if rf, ok := ret.Get(0).(func(domain.Transaction) error); ok {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>44</td>
                <td>
                    <code><pre>                r0 = rf(tx)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>        } else {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>46</td>
                <td>
                    <code><pre>                r0 = ret.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>49</td>
                <td>
                    <code><pre>        return r0</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewProducer">func NewProducer</div>
        <div class="info">
            <a href="#s_fn_NewProducer">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/mocks/Producer.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre>func NewProducer(t interface {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>        mock.TestingT</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre>        Cleanup(func())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre>}) *Producer {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>58</td>
                <td>
                    <code><pre>        mock := &amp;Producer{}</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>59</td>
                <td>
                    <code><pre>        mock.Mock.Test(t)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>61</td>
                <td>
                    <code><pre>        t.Cleanup(func() { mock.AssertExpectations(t) })</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>63</td>
                <td>
                    <code><pre>        return mock</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>64</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewKafkaReader">func NewKafkaReader</div>
        <div class="info">
            <a href="#s_fn_NewKafkaReader">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/mocks/KafkaReader.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>func NewKafkaReader(t interface {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>        mock.TestingT</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre>        Cleanup(func())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre>}) *KafkaReader {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>69</td>
                <td>
                    <code><pre>        mock := &amp;KafkaReader{}</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>70</td>
                <td>
                    <code><pre>        mock.Mock.Test(t)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>71</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>72</td>
                <td>
                    <code><pre>        t.Cleanup(func() { mock.AssertExpectations(t) })</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>73</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>74</td>
                <td>
                    <code><pre>        return mock</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>75</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewTransactionRepository">func NewTransactionRepository</div>
        <div class="info">
            <a href="#s_fn_NewTransactionRepository">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/mocks/TransactionRepository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>func NewTransactionRepository(t interface {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre>        mock.TestingT</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre>        Cleanup(func())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre>}) *TransactionRepository {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>70</td>
                <td>
                    <code><pre>        mock := &amp;TransactionRepository{}</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>71</td>
                <td>
                    <code><pre>        mock.Mock.Test(t)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>72</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>73</td>
                <td>
                    <code><pre>        t.Cleanup(func() { mock.AssertExpectations(t) })</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>74</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>75</td>
                <td>
                    <code><pre>        return mock</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>76</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewBalanceRepository">func NewBalanceRepository</div>
        <div class="info">
            <a href="#s_fn_NewBalanceRepository">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/mocks/BalanceRepository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>func NewBalanceRepository(t interface {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre>        mock.TestingT</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre>        Cleanup(func())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre>}) *BalanceRepository {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>70</td>
                <td>
                    <code><pre>        mock := &amp;BalanceRepository{}</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>71</td>
                <td>
                    <code><pre>        mock.Mock.Test(t)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>72</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>73</td>
                <td>
                    <code><pre>        t.Cleanup(func() { mock.AssertExpectations(t) })</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>74</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>75</td>
                <td>
                    <code><pre>        return mock</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>76</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewWriterInterface">func NewWriterInterface</div>
        <div class="info">
            <a href="#s_fn_NewWriterInterface">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/mocks/WriterInterface.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre>func NewWriterInterface(t interface {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>63</td>
                <td>
                    <code><pre>        mock.TestingT</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>64</td>
                <td>
                    <code><pre>        Cleanup(func())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>}) *WriterInterface {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>66</td>
                <td>
                    <code><pre>        mock := &amp;WriterInterface{}</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>67</td>
                <td>
                    <code><pre>        mock.Mock.Test(t)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>69</td>
                <td>
                    <code><pre>        t.Cleanup(func() { mock.AssertExpectations(t) })</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>70</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>71</td>
                <td>
                    <code><pre>        return mock</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>72</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_@61:12">func @61:12</div>
        <div class="info">
            <a href="#s_fn_@61:12">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/mocks/Producer.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr class="miss">
                <td>61</td>
                <td>
                    <code><pre>func() { mock.AssertExpectations(t) }</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_@72:12">func @72:12</div>
        <div class="info">
            <a href="#s_fn_@72:12">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/mocks/KafkaReader.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr class="miss">
                <td>72</td>
                <td>
                    <code><pre>func() { mock.AssertExpectations(t) }</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_@73:12">func @73:12</div>
        <div class="info">
            <a href="#s_fn_@73:12">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/mocks/TransactionRepository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr class="miss">
                <td>73</td>
                <td>
                    <code><pre>func() { mock.AssertExpectations(t) }</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_@73:12">func @73:12</div>
        <div class="info">
            <a href="#s_fn_@73:12">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/mocks/BalanceRepository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr class="miss">
                <td>73</td>
                <td>
                    <code><pre>func() { mock.AssertExpectations(t) }</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_@69:12">func @69:12</div>
        <div class="info">
            <a href="#s_fn_@69:12">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/mocks/WriterInterface.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr class="miss">
                <td>69</td>
                <td>
                    <code><pre>func() { mock.AssertExpectations(t) }</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:go-financial-transactions/mocks DONE:0.0
        -->
        
        <div id="pkg_go-financial-transactions/producer" class="funcname">
            Package Overview: go-financial-transactions/producer
            <span class="packageTotal">88.9%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_NewKafkaWriter">
                <td>
                    <code><a href="#fn_NewKafkaWriter">NewKafkaWriter(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/producer/producer.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>2/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewKafkaWriterWithMock">
                <td>
                    <code><a href="#fn_NewKafkaWriterWithMock">NewKafkaWriterWithMock(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/producer/helper.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_KafkaWriter.Close">
                <td>
                    <code><a href="#fn_KafkaWriter.Close">KafkaWriter.Close(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/producer/producer.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_KafkaWriter.SendTransaction">
                <td>
                    <code><a href="#fn_KafkaWriter.SendTransaction">KafkaWriter.SendTransaction(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/producer/producer.go</code>
                </td>
                <td class="percent">
                    <code>80.0%</code>
                </td>
                <td class="linecount">
                    <code>4/5</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_NewKafkaWriter">func NewKafkaWriter</div>
        <div class="info">
            <a href="#s_fn_NewKafkaWriter">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/producer/producer.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>func NewKafkaWriter(broker, topic string) *KafkaWriter {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>        w := kafka.NewWriter(kafka.WriterConfig{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>                Brokers:  []string{broker},</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>                Topic:    topic,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>                Balancer: &amp;kafka.LeastBytes{},</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>        })</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>        return &amp;KafkaWriter{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>                writer: w, // agora *kafka.Writer implementa WriterInterface corretamente</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewKafkaWriterWithMock">func NewKafkaWriterWithMock</div>
        <div class="info">
            <a href="#s_fn_NewKafkaWriterWithMock">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/producer/helper.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>4</td>
                <td>
                    <code><pre>func NewKafkaWriterWithMock(w WriterInterface) *KafkaWriter {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>5</td>
                <td>
                    <code><pre>        return &amp;KafkaWriter{writer: w}</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>6</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_KafkaWriter.Close">func KafkaWriter.Close</div>
        <div class="info">
            <a href="#s_fn_KafkaWriter.Close">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/producer/producer.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>func (k *KafkaWriter) Close() error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>        return k.writer.Close()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_KafkaWriter.SendTransaction">func KafkaWriter.SendTransaction</div>
        <div class="info">
            <a href="#s_fn_KafkaWriter.SendTransaction">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/producer/producer.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>func (k *KafkaWriter) SendTransaction(tx domain.Transaction) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>        data, err := json.Marshal(tx)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>37</td>
                <td>
                    <code><pre>                return err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>        msg := kafka.Message{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>                Key:   []byte(uuid.New().String()),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>                Value: data,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>        return k.writer.WriteMessages(context.Background(), msg)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:go-financial-transactions/producer DONE:88.9
        -->
        
        <div id="pkg_go-financial-transactions/repositories" class="funcname">
            Package Overview: go-financial-transactions/repositories
            <span class="packageTotal">41.7%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_GormRepository.GetByUser">
                <td>
                    <code><a href="#fn_GormRepository.GetByUser">GormRepository.GetByUser(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/repositories/database.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>3/3</code>
                </td>
            </tr>
        
            <tr id="s_fn_GormRepository.GetBalance">
                <td>
                    <code><a href="#fn_GormRepository.GetBalance">GormRepository.GetBalance(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/repositories/database.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>3/3</code>
                </td>
            </tr>
        
            <tr id="s_fn_migrate">
                <td>
                    <code><a href="#fn_migrate">migrate(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/repositories/connection.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewGormRepository">
                <td>
                    <code><a href="#fn_NewGormRepository">NewGormRepository(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/repositories/database.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_GormRepository.Save">
                <td>
                    <code><a href="#fn_GormRepository.Save">GormRepository.Save(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/repositories/database.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_GormRepository.UpdateBalance">
                <td>
                    <code><a href="#fn_GormRepository.UpdateBalance">GormRepository.UpdateBalance(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/repositories/database.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_InitDatabase">
                <td>
                    <code><a href="#fn_InitDatabase">InitDatabase(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/repositories/connection.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/7</code>
                </td>
            </tr>
        
            <tr id="s_fn_CallConnectTestHelper">
                <td>
                    <code><a href="#fn_CallConnectTestHelper">CallConnectTestHelper(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/repositories/connection.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/3</code>
                </td>
            </tr>
        
            <tr id="s_fn_connect">
                <td>
                    <code><a href="#fn_connect">connect(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/repositories/connection.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_CallMigrateTestHelper">
                <td>
                    <code><a href="#fn_CallMigrateTestHelper">CallMigrateTestHelper(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/repositories/connection.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_buildDSN">
                <td>
                    <code><a href="#fn_buildDSN">buildDSN(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/repositories/connection.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/1</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_GormRepository.GetByUser">func GormRepository.GetByUser</div>
        <div class="info">
            <a href="#s_fn_GormRepository.GetByUser">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/repositories/database.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>func (r *GormRepository) GetByUser(userID string) ([]d.Transaction, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>        var txs []d.Transaction</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>        err := r.db.Where(&#34;user_id = ?&#34;, userID).Order(&#34;timestamp desc&#34;).Find(&amp;txs).Error</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>        return txs, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_GormRepository.GetBalance">func GormRepository.GetBalance</div>
        <div class="info">
            <a href="#s_fn_GormRepository.GetBalance">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/repositories/database.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>func (r *GormRepository) GetBalance(userID string) (*d.Balance, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>        var b d.Balance</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>        err := r.db.Where(&#34;user_id = ?&#34;, userID).First(&amp;b).Error</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>        return &amp;b, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_migrate">func migrate</div>
        <div class="info">
            <a href="#s_fn_migrate">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/repositories/connection.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>func migrate(db *gorm.DB) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>        return db.AutoMigrate(&amp;Transaction{}, &amp;Balance{})</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewGormRepository">func NewGormRepository</div>
        <div class="info">
            <a href="#s_fn_NewGormRepository">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/repositories/database.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>14</td>
                <td>
                    <code><pre>func NewGormRepository(db *gorm.DB) *GormRepository {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>        return &amp;GormRepository{db}</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_GormRepository.Save">func GormRepository.Save</div>
        <div class="info">
            <a href="#s_fn_GormRepository.Save">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/repositories/database.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>func (r *GormRepository) Save(tx d.Transaction) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>        return r.db.Create(&amp;tx).Error</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_GormRepository.UpdateBalance">func GormRepository.UpdateBalance</div>
        <div class="info">
            <a href="#s_fn_GormRepository.UpdateBalance">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/repositories/database.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>func (r *GormRepository) UpdateBalance(tx d.Transaction) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>        return r.db.Clauses(clause.OnConflict{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>                Columns: []clause.Column{{Name: &#34;user_id&#34;}},</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>                DoUpdates: clause.Assignments(map[string]interface{}{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>                        &#34;amount&#34;: gorm.Expr(&#34;balances.amount + EXCLUDED.amount&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>                }),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>        }).Create(&amp;d.Balance{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>                UserID: tx.UserID,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>                Amount: tx.Amount,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>        }).Error</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_InitDatabase">func InitDatabase</div>
        <div class="info">
            <a href="#s_fn_InitDatabase">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/repositories/connection.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>func InitDatabase(dbHost, dbUser, dbPassword, dbName, dbPort string) *gorm.DB {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>21</td>
                <td>
                    <code><pre>        db, err := connect(dbHost, dbUser, dbPassword, dbName, dbPort)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>22</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>23</td>
                <td>
                    <code><pre>                log.Fatalf(&#34;❌ Failed to connect to database: %v&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>26</td>
                <td>
                    <code><pre>        if err := migrate(db); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>27</td>
                <td>
                    <code><pre>                log.Fatalf(&#34;❌ Failed to migrate models: %v&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>30</td>
                <td>
                    <code><pre>        fmt.Println(&#34;✅ Database connected and migrated.&#34;)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>31</td>
                <td>
                    <code><pre>        return db</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_CallConnectTestHelper">func CallConnectTestHelper</div>
        <div class="info">
            <a href="#s_fn_CallConnectTestHelper">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/repositories/connection.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>func CallConnectTestHelper(dsn, driver, user, password, dbname string) (*gorm.DB, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>49</td>
                <td>
                    <code><pre>        if dsn == &#34;invalid&#34; {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>50</td>
                <td>
                    <code><pre>                return nil, errors.New(&#34;invalid DSN&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>52</td>
                <td>
                    <code><pre>        return gorm.Open(sqlite.Open(dsn), &amp;gorm.Config{})</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_connect">func connect</div>
        <div class="info">
            <a href="#s_fn_connect">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/repositories/connection.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>func connect(dbHost, dbUser, dbPassword, dbName, dbPort string) (*gorm.DB, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>35</td>
                <td>
                    <code><pre>        dsn := fmt.Sprintf(&#34;host=%s port=%s user=%s password=%s dbname=%s sslmode=disable&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>                dbHost, dbPort, dbUser, dbPassword, dbName)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>37</td>
                <td>
                    <code><pre>        return gorm.Open(postgres.Open(dsn), &amp;gorm.Config{})</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_CallMigrateTestHelper">func CallMigrateTestHelper</div>
        <div class="info">
            <a href="#s_fn_CallMigrateTestHelper">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/repositories/connection.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>func CallMigrateTestHelper(db *gorm.DB) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>45</td>
                <td>
                    <code><pre>        return migrate(db)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_buildDSN">func buildDSN</div>
        <div class="info">
            <a href="#s_fn_buildDSN">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/repositories/connection.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>func buildDSN(host, port, user, pass, dbname string) string {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>56</td>
                <td>
                    <code><pre>        return fmt.Sprintf(&#34;host=%s port=%s user=%s password=%s dbname=%s sslmode=disable&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre>                host, port, user, pass, dbname)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:go-financial-transactions/repositories DONE:41.7
        -->
        
        <div id="pkg_go-financial-transactions/services" class="funcname">
            Package Overview: go-financial-transactions/services
            <span class="packageTotal">75.0%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_WithdrawService.Withdraw">
                <td>
                    <code><a href="#fn_WithdrawService.Withdraw">WithdrawService.Withdraw(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/services/withdraws.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>7/7</code>
                </td>
            </tr>
        
            <tr id="s_fn_DepositService.Deposit">
                <td>
                    <code><a href="#fn_DepositService.Deposit">DepositService.Deposit(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/services/deposits.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>2/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewDepositService">
                <td>
                    <code><a href="#fn_NewDepositService">NewDepositService(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/services/deposits.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewStatementService">
                <td>
                    <code><a href="#fn_NewStatementService">NewStatementService(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/services/statement.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_StatementService.GetTransactions">
                <td>
                    <code><a href="#fn_StatementService.GetTransactions">StatementService.GetTransactions(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/services/statement.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewWithdrawService">
                <td>
                    <code><a href="#fn_NewWithdrawService">NewWithdrawService(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/services/withdraws.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_StatementService.GetBalance">
                <td>
                    <code><a href="#fn_StatementService.GetBalance">StatementService.GetBalance(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/services/statement.go</code>
                </td>
                <td class="percent">
                    <code>75.0%</code>
                </td>
                <td class="linecount">
                    <code>3/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_StatementService.GetStatement">
                <td>
                    <code><a href="#fn_StatementService.GetStatement">StatementService.GetStatement(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/services/statement.go</code>
                </td>
                <td class="percent">
                    <code>71.4%</code>
                </td>
                <td class="linecount">
                    <code>5/7</code>
                </td>
            </tr>
        
            <tr id="s_fn_ToTransactionDisplay">
                <td>
                    <code><a href="#fn_ToTransactionDisplay">ToTransactionDisplay(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/services/transaction_formatter.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/4</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_WithdrawService.Withdraw">func WithdrawService.Withdraw</div>
        <div class="info">
            <a href="#s_fn_WithdrawService.Withdraw">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/services/withdraws.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>func (s *WithdrawService) Withdraw(userID string, amount float64) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>        balance, err := s.BalanceRepo.GetBalance(userID)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>                return err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>        if balance.Amount &lt; amount {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>                return errors.New(&#34;insufficient funds&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>        tx := d.Transaction{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>                ID:        uuid.New().String(),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>                UserID:    userID,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>                Amount:    -amount,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>                Timestamp: time.Now(),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>                Type:      &#34;withdraw&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>        return s.producer.SendTransaction(tx)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_DepositService.Deposit">func DepositService.Deposit</div>
        <div class="info">
            <a href="#s_fn_DepositService.Deposit">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/services/deposits.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>func (s *DepositService) Deposit(userID string, amount float64) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>        tx := d.Transaction{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>                ID:        uuid.New().String(),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>                UserID:    userID,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>                Amount:    amount,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>                Timestamp: time.Now(),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>                Type:      &#34;deposit&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>        return s.producer.SendTransaction(tx)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewDepositService">func NewDepositService</div>
        <div class="info">
            <a href="#s_fn_NewDepositService">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/services/deposits.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>func NewDepositService(r d.TransactionRepository, b d.BalanceRepository, p p.Producer) *DepositService {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>        return &amp;DepositService{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>                Repo:        r,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>                BalanceRepo: b,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>                producer:    p,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewStatementService">func NewStatementService</div>
        <div class="info">
            <a href="#s_fn_NewStatementService">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/services/statement.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>func NewStatementService(r d.TransactionRepository, b d.BalanceRepository) *StatementService {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>        return &amp;StatementService{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>                Repo:        r,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>                BalanceRepo: b,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_StatementService.GetTransactions">func StatementService.GetTransactions</div>
        <div class="info">
            <a href="#s_fn_StatementService.GetTransactions">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/services/statement.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>func (s *StatementService) GetTransactions(userID string) ([]d.Transaction, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>        return s.Repo.GetByUser(userID)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewWithdrawService">func NewWithdrawService</div>
        <div class="info">
            <a href="#s_fn_NewWithdrawService">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/services/withdraws.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>func NewWithdrawService(r d.TransactionRepository, b d.BalanceRepository, p p.Producer) *WithdrawService {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>        return &amp;WithdrawService{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>                Repo:        r,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>                BalanceRepo: b,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>                producer:    p,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_StatementService.GetBalance">func StatementService.GetBalance</div>
        <div class="info">
            <a href="#s_fn_StatementService.GetBalance">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/services/statement.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>func (s *StatementService) GetBalance(userID string) (float64, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>        balance, err := s.BalanceRepo.GetBalance(userID)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>31</td>
                <td>
                    <code><pre>                return 0.0, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>        return balance.Amount, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_StatementService.GetStatement">func StatementService.GetStatement</div>
        <div class="info">
            <a href="#s_fn_StatementService.GetStatement">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/services/statement.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>func (s *StatementService) GetStatement(userID string) (*Statement, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>        balance, err := s.GetBalance(userID)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>47</td>
                <td>
                    <code><pre>                return nil, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>        transactions, err := s.GetTransactions(userID)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>52</td>
                <td>
                    <code><pre>                return nil, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>        return &amp;Statement{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre>                Balance:      balance,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre>                Transactions: transactions,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre>        }, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_ToTransactionDisplay">func ToTransactionDisplay</div>
        <div class="info">
            <a href="#s_fn_ToTransactionDisplay">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/services/transaction_formatter.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>func ToTransactionDisplay(txs []d.Transaction) []TransactionDisplay {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>17</td>
                <td>
                    <code><pre>        result := make([]TransactionDisplay, 0, len(txs))</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>18</td>
                <td>
                    <code><pre>        for _, tx := range txs {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>19</td>
                <td>
                    <code><pre>                result = append(result, TransactionDisplay{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>                        ID:        tx.ID,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>                        Amount:    tx.Amount,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>                        Type:      tx.Type,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>                        Timestamp: tx.Timestamp,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>                })</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>26</td>
                <td>
                    <code><pre>        return result</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:go-financial-transactions/services DONE:75.0
        -->
        
        <div id="pkg_go-financial-transactions/workers" class="funcname">
            Package Overview: go-financial-transactions/workers
            <span class="packageTotal">90.5%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_worker">
                <td>
                    <code><a href="#fn_worker">worker(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/workers/workers.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>8/8</code>
                </td>
            </tr>
        
            <tr id="s_fn_StartWorkers">
                <td>
                    <code><a href="#fn_StartWorkers">StartWorkers(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/workers/workers.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>2/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_@36:26">
                <td>
                    <code><a href="#fn_@36:26">@36:26(...)</a></code>
                </td>
                <td>
                    <code>go-financial-transactions/workers/workers.go</code>
                </td>
                <td class="percent">
                    <code>81.8%</code>
                </td>
                <td class="linecount">
                    <code>9/11</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_worker">func worker</div>
        <div class="info">
            <a href="#s_fn_worker">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/workers/workers.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>func worker(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>        ctx context.Context,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>        ch &lt;-chan d.Transaction,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>        workerID int,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>        db *gorm.DB,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>        for {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>                select {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>                case &lt;-ctx.Done():</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>                        fmt.Printf(&#34;🛑 Worker %d stopped.\n&#34;, workerID)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>                        return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>                case tx := &lt;-ch:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>                        fmt.Printf(&#34;👷 Worker %d processing transaction %s (%.2f)\n&#34;, workerID, tx.ID, tx.Amount)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>                        err := db.Transaction(func(txDB *gorm.DB) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>                                var balance d.Balance</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>                                // Lock user&#39;s balance row</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>                                if err := txDB.Clauses(clause.Locking{Strength: &#34;UPDATE&#34;}).</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>                                        Where(&#34;user_id = ?&#34;, tx.UserID).</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>                                        FirstOrCreate(&amp;balance, d.Balance{UserID: tx.UserID}).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>                                        return err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>                                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>                                newBalance := balance.Amount + tx.Amount</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>                                if newBalance &lt; 0 {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>                                        return fmt.Errorf(&#34;insufficient funds for user %s&#34;, tx.UserID)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>                                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>                                if err := txDB.Model(&amp;d.Balance{}).</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>                                        Where(&#34;user_id = ?&#34;, balance.UserID).</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>                                        Update(&#34;amount&#34;, newBalance).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre>                                        return err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>                                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre>                                if err := txDB.Create(&amp;tx).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre>                                        return err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>                                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>61</td>
                <td>
                    <code><pre>                                return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre>                        })</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>63</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>64</td>
                <td>
                    <code><pre>                        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>                                log.Printf(&#34;❌ Worker %d failed to process transaction %s: %v&#34;, workerID, tx.ID, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>                        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_StartWorkers">func StartWorkers</div>
        <div class="info">
            <a href="#s_fn_StartWorkers">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/workers/workers.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>func StartWorkers(ctx context.Context, ch &lt;-chan d.Transaction, count int, db *gorm.DB) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>        for i := 0; i &lt; count; i++ {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>                go worker(ctx, ch, i, db)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_@36:26">func @36:26</div>
        <div class="info">
            <a href="#s_fn_@36:26">Back</a>
            <p>In <code>/mnt/c/Users/gabri/repos/go-financial-transactions/workers/workers.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>func(txDB *gorm.DB) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>                                var balance d.Balance</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>                                // Lock user&#39;s balance row</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>                                if err := txDB.Clauses(clause.Locking{Strength: &#34;UPDATE&#34;}).</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>                                        Where(&#34;user_id = ?&#34;, tx.UserID).</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>                                        FirstOrCreate(&amp;balance, d.Balance{UserID: tx.UserID}).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>43</td>
                <td>
                    <code><pre>                                        return err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>                                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>                                newBalance := balance.Amount + tx.Amount</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>                                if newBalance &lt; 0 {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>                                        return fmt.Errorf(&#34;insufficient funds for user %s&#34;, tx.UserID)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>                                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>                                if err := txDB.Model(&amp;d.Balance{}).</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>                                        Where(&#34;user_id = ?&#34;, balance.UserID).</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>                                        Update(&#34;amount&#34;, newBalance).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>54</td>
                <td>
                    <code><pre>                                        return err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>                                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre>                                if err := txDB.Create(&amp;tx).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre>                                        return err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>                                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>61</td>
                <td>
                    <code><pre>                                return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre>                        }</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:go-financial-transactions/workers DONE:90.5
        -->
         

        <div id="summaryWrapper">
        
            <div class="package">Report Total</div>
            <div id="totalcov">36.0%</div>
         
        </div>
         
        
	</body>
</html>
